[{"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\index.js":"1","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\App.js":"2","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\LoginPage\\index.js":"3","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\LoginPage\\styled.js":"4","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\assets\\styles\\GlobalStyles.js":"5","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\assets\\styles\\theme.js":"6","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\LoginPage\\useHooks.js":"7","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\GamePage\\index.js":"8","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\GamePage\\useHooks.js":"9","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\GamePage\\styled.js":"10","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\components\\InvadeButton\\index.js":"11","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\components\\InvadeButton\\styled.js":"12","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\components\\InvadeButton\\useHooks.js":"13"},{"size":198,"mtime":1611881908866,"results":"14","hashOfConfig":"15"},{"size":547,"mtime":1611951794840,"results":"16","hashOfConfig":"15"},{"size":558,"mtime":1611952167589,"results":"17","hashOfConfig":"15"},{"size":1105,"mtime":1611951826084,"results":"18","hashOfConfig":"15"},{"size":999,"mtime":1611944991399,"results":"19","hashOfConfig":"15"},{"size":122,"mtime":1611945002874,"results":"20","hashOfConfig":"15"},{"size":474,"mtime":1611952121562,"results":"21","hashOfConfig":"15"},{"size":2151,"mtime":1612145353902,"results":"22","hashOfConfig":"15"},{"size":4388,"mtime":1612144702260,"results":"23","hashOfConfig":"15"},{"size":2658,"mtime":1612115152016,"results":"24","hashOfConfig":"15"},{"size":554,"mtime":1612146528576,"results":"25","hashOfConfig":"15"},{"size":398,"mtime":1612146524773,"results":"26","hashOfConfig":"15"},{"size":648,"mtime":1612146526351,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"ufps03",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\index.js",[],["57","58","59","60","61"],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\App.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\LoginPage\\index.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\LoginPage\\styled.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\assets\\styles\\GlobalStyles.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\assets\\styles\\theme.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\LoginPage\\useHooks.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\GamePage\\index.js",["62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83"],"import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport xIcon from 'assets/icons/xIcon.svg';\r\nimport ElipseIcon from 'assets/icons/ElipseIcon.svg';\r\n\r\nimport InvadeButton from 'components/InvadeButton';\r\n\r\nimport {\r\n  PlayerIcon,\r\n  PlayerInsideWrapper,\r\n  PlayerName,\r\n  PlayersWrapper,\r\n  BoardWrapper,\r\n  Field,\r\n  WaitForOpponentWrapper,\r\n  FieldSymbolImage,\r\n  RematchButton,\r\n  RematchText,\r\n  RematchWrapper,\r\n  RematchPlayerName,\r\n} from './styled';\r\n\r\nimport useHooks from './useHooks';\r\n\r\nconst GamePage = () => {\r\n  const { id, username } = useParams();\r\n  const {\r\n    board,\r\n    isGameStart,\r\n    players,\r\n    move,\r\n    playerMove,\r\n    boardRef,\r\n    acceptRevenge,\r\n    revenge,\r\n  } = useHooks(id, username);\r\n\r\n  return (\r\n    <>\r\n      <InvadeButton />\r\n      {/* <WaitForOpponentWrapper isGameStart={isGameStart}>\r\n        Czekanie na przeciwnika\r\n      </WaitForOpponentWrapper>\r\n      {revenge.showRevenge && (\r\n        <RematchWrapper>\r\n          <RematchText>REMATCH?</RematchText>\r\n          {players.map(e => (\r\n            <RematchPlayerName>\r\n              {`${e.username}: ${revenge.users.includes(e.userId) ? 'accepted' : 'wait'}`}\r\n            </RematchPlayerName>\r\n          ))}\r\n          <RematchButton onClick={acceptRevenge}>rematch</RematchButton>\r\n        </RematchWrapper>\r\n      )}\r\n      <PlayersWrapper>\r\n        {players.map(player => (\r\n          <PlayerInsideWrapper isMove={player.symbol === move} isMe={player.isMe}>\r\n            <PlayerIcon src={player.symbol ? ElipseIcon : xIcon} />\r\n            <PlayerName>{player.username}</PlayerName>\r\n          </PlayerInsideWrapper>\r\n        ))}\r\n      </PlayersWrapper>\r\n      <BoardWrapper ref={boardRef}>\r\n        {board.map((field, fieldIndex) => (\r\n          <Field onClick={() => playerMove(fieldIndex)}>\r\n            {field !== 0 && field === 1 ? (\r\n              <FieldSymbolImage src={xIcon} alt=\"x\" />\r\n            ) : (\r\n              field === 2 && <FieldSymbolImage src={ElipseIcon} alt=\"o\" />\r\n            )}\r\n          </Field>\r\n        ))}\r\n      </BoardWrapper> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GamePage;\r\n","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\GamePage\\useHooks.js",["84","85","86","87"],"import io from 'socket.io-client';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst API = 'http://localhost:5000';\r\n\r\nlet socket;\r\n\r\nconst fieldTypeBoard = [0, 1, 2];\r\nconst [emptyField] = fieldTypeBoard;\r\nconst symbolType = [0, 1];\r\nconst [, elipse] = symbolType;\r\n\r\nconst clearBoard = [0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n\r\nconst winBoardCombination = [\r\n  [1, 1, 1, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 1, 1, 1, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 1, 1, 1],\r\n  [1, 0, 0, 1, 0, 0, 1, 0, 0],\r\n  [0, 1, 0, 0, 1, 0, 0, 1, 0],\r\n  [0, 0, 1, 0, 0, 1, 0, 0, 1],\r\n  [1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n  [0, 0, 1, 0, 1, 0, 1, 0, 0],\r\n  [2, 2, 2, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 2, 2, 2, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 2, 2, 2],\r\n  [2, 0, 0, 2, 0, 0, 2, 0, 0],\r\n  [0, 2, 0, 0, 2, 0, 0, 2, 0],\r\n  [0, 0, 2, 0, 0, 2, 0, 0, 2],\r\n  [2, 0, 0, 0, 2, 0, 0, 0, 2],\r\n  [0, 0, 2, 0, 2, 0, 2, 0, 0],\r\n];\r\n\r\nconst useHooks = (roomId, username) => {\r\n  const [board, setBoard] = useState([]);\r\n  const [move, setMove] = useState(elipse);\r\n  const [players, setPlayers] = useState([]);\r\n  const [isGameStart, setIsGameStart] = useState(false);\r\n  const [revenge, setRevenge] = useState({ showRevenge: true, users: [] });\r\n\r\n  const createTheBoard = () => {\r\n    const boardGen = [];\r\n    for (let i = 0; i < 9; i += 1) {\r\n      boardGen.push(emptyField);\r\n    }\r\n    setBoard(boardGen);\r\n  };\r\n\r\n  const checkWin = futureBoard => {\r\n    let xBoard;\r\n    let elipseBoard;\r\n\r\n    if (futureBoard) {\r\n      xBoard = futureBoard.map(e => (e === 1 ? 0 : e));\r\n      elipseBoard = futureBoard.map(e => (e === 2 ? 0 : e));\r\n    } else {\r\n      xBoard = board.map(e => (e === 1 ? 0 : e));\r\n      elipseBoard = board.map(e => (e === 2 ? 0 : e));\r\n    }\r\n\r\n    let win = false;\r\n\r\n    winBoardCombination.forEach(winComb => {\r\n      const equals = (a, b) => JSON.stringify(a) === JSON.stringify(b);\r\n\r\n      if (equals(winComb, xBoard) || equals(winComb, elipseBoard)) {\r\n        win = true;\r\n      }\r\n    });\r\n\r\n    if (win) {\r\n      setTimeout(() => {\r\n        alert('WIN');\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  const prepareGame = gameSettings => {\r\n    const indexOfMyPlayer = gameSettings.findIndex(element => element.userId === socket.id);\r\n    const gameSettingsEditFormat = gameSettings;\r\n    gameSettingsEditFormat[indexOfMyPlayer].isMe = true;\r\n\r\n    setPlayers(gameSettingsEditFormat);\r\n    setBoard(clearBoard);\r\n    setRevenge({ showRevenge: false, users: [] });\r\n    setIsGameStart(true);\r\n  };\r\n\r\n  const playerMove = fieldIndex => {\r\n    const findMyPlayerSettings = players.find(element => element.isMe);\r\n    if (findMyPlayerSettings.symbol === move) {\r\n      const currentMove = move === 0 ? 1 : 0;\r\n      const currentBoard = board;\r\n      if (currentBoard[fieldIndex] === 0) {\r\n        currentBoard[fieldIndex] = move + 1;\r\n\r\n        socket.emit('move', { move: currentMove, board: currentBoard, roomId });\r\n\r\n        setBoard(currentBoard);\r\n        setMove(currentMove);\r\n\r\n        checkWin();\r\n      }\r\n    } else {\r\n      alert('to nie jest twój ruch');\r\n    }\r\n  };\r\n\r\n  const preprocessingRevenge = revengesData => {\r\n    if (revengesData.users.length === 2) {\r\n      setRevenge({\r\n        showRevenge: true,\r\n        users: [...revengesData.users],\r\n      });\r\n      socket.emit('getGameSettings', { roomId });\r\n    } else {\r\n      setRevenge({\r\n        showRevenge: true,\r\n        users: [...revengesData.users],\r\n      });\r\n    }\r\n  };\r\n\r\n  const acceptRevenge = () => {\r\n    socket.emit('revenges', { roomId });\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket = io(API);\r\n\r\n    socket.on('prepareGame', gameSettings => {\r\n      prepareGame(gameSettings);\r\n    });\r\n\r\n    socket.on('moveOpponent', ({ move: movePlayer, board: boardPlayer }) => {\r\n      setMove(movePlayer);\r\n      setBoard(boardPlayer);\r\n      checkWin(boardPlayer);\r\n    });\r\n\r\n    socket.on('revengesAcceped', revengesData => {\r\n      preprocessingRevenge(revengesData);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    createTheBoard();\r\n    socket.emit('join', { roomId, username }, res => {\r\n      // TODO: jeżęli res error to wyświetlić error\r\n    });\r\n\r\n    socket.on('playerLeave', () => {\r\n      console.log('player leave');\r\n      setIsGameStart(false);\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    board,\r\n    isGameStart,\r\n    players,\r\n    move,\r\n    playerMove,\r\n    acceptRevenge,\r\n    revenge,\r\n  };\r\n};\r\n\r\nexport default useHooks;\r\n","C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\views\\GamePage\\styled.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\components\\InvadeButton\\index.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\components\\InvadeButton\\styled.js",[],"C:\\Users\\Szymon\\Desktop\\TicTacToe\\client\\src\\components\\InvadeButton\\useHooks.js",[],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":4,"column":8,"nodeType":"100","messageId":"101","endLine":4,"endColumn":13},{"ruleId":"98","severity":1,"message":"102","line":5,"column":8,"nodeType":"100","messageId":"101","endLine":5,"endColumn":18},{"ruleId":"98","severity":1,"message":"103","line":10,"column":3,"nodeType":"100","messageId":"101","endLine":10,"endColumn":13},{"ruleId":"98","severity":1,"message":"104","line":11,"column":3,"nodeType":"100","messageId":"101","endLine":11,"endColumn":22},{"ruleId":"98","severity":1,"message":"105","line":12,"column":3,"nodeType":"100","messageId":"101","endLine":12,"endColumn":13},{"ruleId":"98","severity":1,"message":"106","line":13,"column":3,"nodeType":"100","messageId":"101","endLine":13,"endColumn":17},{"ruleId":"98","severity":1,"message":"107","line":14,"column":3,"nodeType":"100","messageId":"101","endLine":14,"endColumn":15},{"ruleId":"98","severity":1,"message":"108","line":15,"column":3,"nodeType":"100","messageId":"101","endLine":15,"endColumn":8},{"ruleId":"98","severity":1,"message":"109","line":16,"column":3,"nodeType":"100","messageId":"101","endLine":16,"endColumn":25},{"ruleId":"98","severity":1,"message":"110","line":17,"column":3,"nodeType":"100","messageId":"101","endLine":17,"endColumn":19},{"ruleId":"98","severity":1,"message":"111","line":18,"column":3,"nodeType":"100","messageId":"101","endLine":18,"endColumn":16},{"ruleId":"98","severity":1,"message":"112","line":19,"column":3,"nodeType":"100","messageId":"101","endLine":19,"endColumn":14},{"ruleId":"98","severity":1,"message":"113","line":20,"column":3,"nodeType":"100","messageId":"101","endLine":20,"endColumn":17},{"ruleId":"98","severity":1,"message":"114","line":21,"column":3,"nodeType":"100","messageId":"101","endLine":21,"endColumn":20},{"ruleId":"98","severity":1,"message":"115","line":29,"column":5,"nodeType":"100","messageId":"101","endLine":29,"endColumn":10},{"ruleId":"98","severity":1,"message":"116","line":30,"column":5,"nodeType":"100","messageId":"101","endLine":30,"endColumn":16},{"ruleId":"98","severity":1,"message":"117","line":31,"column":5,"nodeType":"100","messageId":"101","endLine":31,"endColumn":12},{"ruleId":"98","severity":1,"message":"118","line":32,"column":5,"nodeType":"100","messageId":"101","endLine":32,"endColumn":9},{"ruleId":"98","severity":1,"message":"119","line":33,"column":5,"nodeType":"100","messageId":"101","endLine":33,"endColumn":15},{"ruleId":"98","severity":1,"message":"120","line":34,"column":5,"nodeType":"100","messageId":"101","endLine":34,"endColumn":13},{"ruleId":"98","severity":1,"message":"121","line":35,"column":5,"nodeType":"100","messageId":"101","endLine":35,"endColumn":18},{"ruleId":"98","severity":1,"message":"122","line":36,"column":5,"nodeType":"100","messageId":"101","endLine":36,"endColumn":12},{"ruleId":"123","severity":1,"message":"124","line":73,"column":9,"nodeType":"125","messageId":"126","endLine":73,"endColumn":21},{"ruleId":"123","severity":1,"message":"124","line":105,"column":7,"nodeType":"125","messageId":"126","endLine":105,"endColumn":37},{"ruleId":"98","severity":1,"message":"127","line":148,"column":47,"nodeType":"100","messageId":"101","endLine":148,"endColumn":50},{"ruleId":"128","severity":1,"message":"129","line":153,"column":7,"nodeType":"130","messageId":"126","endLine":153,"endColumn":18},"lines-around-directive",["131"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"no-unused-vars","'xIcon' is defined but never used.","Identifier","unusedVar","'ElipseIcon' is defined but never used.","'PlayerIcon' is defined but never used.","'PlayerInsideWrapper' is defined but never used.","'PlayerName' is defined but never used.","'PlayersWrapper' is defined but never used.","'BoardWrapper' is defined but never used.","'Field' is defined but never used.","'WaitForOpponentWrapper' is defined but never used.","'FieldSymbolImage' is defined but never used.","'RematchButton' is defined but never used.","'RematchText' is defined but never used.","'RematchWrapper' is defined but never used.","'RematchPlayerName' is defined but never used.","'board' is assigned a value but never used.","'isGameStart' is assigned a value but never used.","'players' is assigned a value but never used.","'move' is assigned a value but never used.","'playerMove' is assigned a value but never used.","'boardRef' is assigned a value but never used.","'acceptRevenge' is assigned a value but never used.","'revenge' is assigned a value but never used.","no-alert","Unexpected alert.","CallExpression","unexpected","'res' is defined but never used.","no-console","Unexpected console statement.","MemberExpression","padding-line-between-statements"]